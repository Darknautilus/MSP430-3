\documentclass[a4paper,11pt,article]{memoir}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Fonts
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage[francais]{babel}
\usepackage{microtype}
\usepackage{lmodern}

\usepackage[scaled=0.95]{helvet}
\renewcommand\familydefault{\sfdefault}
\usepackage{textgreek}
\usepackage[EULERGREEK]{sansmath}\sansmath % sans-serif math w/ greeks

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Page layout

\usepackage[margin=2cm]{geometry}
\pagestyle{plain}
\setlength{\parindent}{0pt}

\renewcommand*{\chaptitlefont}{\secheadstyle}% for toc, bib, and friends 
\setsecheadstyle{\Large} % default: \Large\bfseries
\setsubsecheadstyle{\large} % default: \Large\bfseries
\setsecnumdepth{subsubsection}
\settocdepth{subsubsection}
\renewcommand*{\thesection}{\arabic{section}}
\renewcommand*{\thesubsection}{\thesection.\arabic{subsection}}
\setbeforesecskip{3 ex plus 1ex minus 1ex} % default(ex): 3.5+1-.2
\setaftersecskip{2 ex plus 1ex minus 1ex} % default(ex): 2.3+.2
\setbeforeparaskip{2 ex plus 1ex minus 1ex}% default(ex): 3.25+1-.2

\setcounter{secnumdepth}{3}

\renewcommand\title[1]{{\LARGE\fontfamily{pag}\selectfont #1}\par\bigskip}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Utilities


% \usepackage{minted} % syntax coloring % If you don't have the
% 'minted' package, just turn all listings to verbatim :-)

\usepackage{boxedminipage}

\newenvironment{reponse}{
\begin{center}
  \begin{boxedminipage}{0.9\linewidth}\underline{Réponse}~:~
}{
  \end{boxedminipage}
\end{center}
}

\usepackage{graphicx}
\usepackage{listings}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Document body

\begin{document}

\includegraphics[height=2cm]{fig/insa.pdf}
%
\hfill
%
{\fontfamily{pag}\selectfont Département IF / Architecture Matérielle}

\bigskip

\title{TP3: Programmation par interruptions}

\bigskip
\noindent\par\parbox{.48\textwidth}{Nom : Bertron} \parbox{.48\textwidth}{Prénom : Aurélien}
\bigskip
\noindent\par\parbox{.48\textwidth}{Nom : Bounous} \parbox{.48\textwidth}{Prénom : Gabriel}
\bigskip
\noindent\par\parbox{.48\textwidth}{Nom : Turunen} \parbox{.48\textwidth}{Prénom : Samu}
\bigskip
\noindent\par\parbox{.2\textwidth}{Groupe : 2} \parbox{.2\textwidth}{Binôme : B3251}

\bigskip

\paragraph{Question 1 ---}  On vient de configurer le port GPIO correspondant au bouton. D'après [Motherboard.pdf|19], les boutons sont reliés aux pins 86 et 87 correspondant au port P1 (respectivement bits 1 et 2). D'après [MSP430.pdf|413], il faut utiliser le registre P1IN pour lire l'état du bouton.

\paragraph{Question 2 ---} D'après [MSP430.pdf|453] le timer A comporte 4 modes de fonctionnement :\\
\begin{itemize}
	\item MCx = 00 : Stop, stoppe le timer
	\item MCx = 01 : Up, le timer compte de 0 à la valeur stockée dans le registre TACCR0, puis repart de 0
	\item MCx = 10 : Continuous, le timer se comporte comme une horloge, en comptant en continu de 0 à la valeur maximale codable sur 16 bits (0xFFFF), puis repart de 0
	\item MCx = 11 : Up/Down, le timer compte périodiquement de 0 à la valeur de TACCR0, puis recompte depuis la valeur de TACCR0 jusqu'à 0
\end{itemize}

\paragraph{Question 3 ---}  D'après [MSP430.pdf|452], les différentes sources internes possibles sont ACLK et SMCLK.

\paragraph{Question 4 ---}  D'après [MSP430.pdf|294], $f_(ACLK) = 32768 Hz$ et $f_(SMCLK) = 32 \times f_(ACLK) = 1048576 Hz$.

\paragraph{Question 5 ---}  Pour ACLK, il y a 32768 oscillations en 1 seconde, il faut donc 327,68 cycles pour compter 10 ms. Pour SMCLK, il faut 10485,76 cycles.

\paragraph{Question 6 ---}  On choisit l'arrondi qui minimise l'erreur. Pour ACLK, on choisit de compter 328 cycles, on a donc une erreur de 0,32 cycles, soit 9,76\textmugreek s (0,097\%)\\
Pour SMCLK, on choisit de compter 10486 cycles, on a donc une erreur de 0,24 cycles, soit 0,23\textmugreek s (0,0023\%)

\paragraph{Question 7 ---}  On choisit l'horloge SMCLK car elle permet de minimiser l'erreur d'arrondi. On choisit pour les mêmes raisons de diviser la fréquence par 1. Le mode du timer sera Up avec une valeur maximum de 10486 afin de générer une interruption toutes les 10 ms.

\end{document}
